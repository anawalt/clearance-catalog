<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="img/system/favicon-32x32.png" type="image/x-icon">
  <title>Anawalt Lumber Malibu - Clearance Catalog</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
      /* HTML: <div class="loader"></div> */
      .loader {
        width: 50px;
        padding: 8px;
        aspect-ratio: 1;
        border-radius: 50%;
        background: #25b09b;
        --_m: 
          conic-gradient(#0000 10%,#000),
          linear-gradient(#000 0 0) content-box;
        -webkit-mask: var(--_m);
                mask: var(--_m);
        -webkit-mask-composite: source-out;
                mask-composite: subtract;
        animation: l3 1s infinite linear;
      }
      @keyframes l3 {to{transform: rotate(1turn)}}
    </style>
</head>

<body>
  <!-- Modal -->
  <div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="contactModalLabel">Malibu Contact Information</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex justify-content-around">
            <div class="text-center">
              <div class="text-success">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/>
                </svg>
              </div>
              <div class="fw-bolder">Phone</div>
              <a href="tel:3104562772" class="link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover"><p>310-456-2772</p></a>
            </div>
            <div class="text-center">
              <div class="text-success">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pin-map-fill" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8z"/>
                  <path fill-rule="evenodd" d="M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"/>
                </svg>
              </div>
              <div class="fw-bolder">Address</div>
              <p class="">3730 Cross Creek Rd.<br />Malibu, CA 90265</p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <div class="container text-center pb-3">
    <div class="row py-3">
      <div class="col col-md-8 mx-auto" id="page-top">
        <div class="row justify-content-center">
          <div class="col text-start">
            <div class="d-flex justify-content-center">
              <img loading="lazy" src="img/system/logo.png" alt="logo" width="55px" class="rounded align-self-center" />
              <div class="mx-3 align-self-center">
                <h2 class="fw-light mb-0">Anawalt Lumber</h2>
                <p class="lead mb-0">Malibu Clearance Catalog</p>
              </div>
            </div>
          </div>
        </div>
        <hr style="width: 50%; margin-left: auto; margin-right: auto;"/>
        
        <div id="anawalt-menu-group">
          <a href="index.html" class="btn btn-success mx-2 my-2">Home</a>
        </div>
      </div>
    </div>
  </div>
  <main>
    <div class="container">
      <div class="loader mx-auto"></div>
      <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 gx-md-5" id="main-row"></div>
    </div>
  </main>
  <footer class="text-center py-3">
    <div><a href="#page-top" class="link">Top Page &uarr;</a></div>
    <div id="footer-text">Copyright &copy;</div>
    <div>Dennis Gallucci Arboleas</div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"
    async></script>
  <script src="js/main.js"></script>
  <script>
    (async () => {
      document.querySelector('#footer-text').innerText += new Date().getFullYear();

      const menuData = await fetchCSV(`${window.location.origin}/clearance-catalog/data/catalog.csv`);
      const menuGroup = document.querySelector("#anawalt-menu-group");

      if (menuData) {
        for (d of menuData) {
          menuGroup.appendChild(menuGenerator(d));
        }
      }

      const file = localStorage.getItem('csvFile');
      const data = await fetchCSV(`${window.location.origin}/clearance-catalog/data/${file}`);
      const mainRow = document.querySelector("#main-row");

      if (data) {
        document.querySelector('.loader').remove();
        for (d of data) {
          mainRow.appendChild(productCardGenerator(d));
        }
      }else{
        document.querySelector('.loader').remove();
        mainRow.setAttribute('class', '');
        mainRow.appendChild(missingProducts());
      }
      const links = document.querySelectorAll('a[data-src]');

      links.forEach(el => {
        el.addEventListener("click", (ev) => {
          ev.preventDefault();
          localStorage.setItem('csvFile', el.dataset.src);
          window.location.href = 'products.html';
        })
      });

      
    })()
  </script>
</body>

</html>
